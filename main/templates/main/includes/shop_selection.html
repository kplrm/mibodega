
<a class="btn modal-trigger" id="user_location_btn" data-target="user_location_modal" onclick="getLocation()" style="padding:0px 0px 0px 0px;background-color:#ffffff;box-shadow:none;">
    <i class="material-icons" style="Margin:-10px 0px 0px 0px;">place</i>
</a>

<!-- Modal -->
<div id="user_location_modal" class="modal modal-fixed-footer">
    <div class="modal-content"> <!-- style="padding: 7px 7px 7px 7px;" -->
        <div class="row">
            <div class="col s10" style="flex-basis: auto;">
                <h5>¿Dónde estás?</h5>
            </div>
            <div class="col s2" style="flex-basis: auto;">
                <a class="btn-flat" name="close_map" id="close_map" onclick="close_map()" style="background-color:#ffffff;"> <!--padding:0px 3px 0px 3px-->
                    <i class="material-icons">close</i>
                </a>
            </div>
        </div>
        <br>
        {% include 'main/includes/select_shop.html' %}
    </div>
    <div class="modal-footer">
        <a class="btn" onclick="getLocation()" name="buy_btn" id="buy_btn" style="padding:0px 10px 0px 10px;background-color:#feb100;">
            <i class="material-icons" style="Margin:-10px 0px 0px 0px;">location_searching</i>
        </a>
    </div>
</div>
<script>
    function close_map() {
        var elem = document.getElementById('user_location_modal');
        var instance = M.Modal.getInstance(elem);
        instance.close();
    }
    // On modal closed event listener
    document.addEventListener('DOMContentLoaded', function() {
        var elems = document.getElementById('user_location_modal');
        var instances = M.Modal.init(elems, {onCloseEnd: function() {
            location.reload();
        }});
    });
    

    /*
    $(document).ready(function(){
        $("#exampleModalCenter").on('shown.bs.modal', function () {
            setTimeout(function() {
                map.invalidateSize();
            }, 10);
        });
        $("#anular-seleccion").click(function(){
            $('#bodega_name').val('Cercanas');
            $('#bodega_id').val('Cercanas');
        });
        $("#modal-save").click(function(){
            $("#exampleModalCenter").modal("hide");
            $('.modal-backdrop').hide();
            $.ajax({
                headers: {'X-CSRFToken': '{{ csrf_token }}'},
                url: "/save_store_location",
                type: "POST",
                dataType: "json",
                data:   {
                            'bodega_name': $('#bodega_name').val(),
                            'id_bodega': $('#bodega_id').val()
                        },
                success: function(response){
                    alert ("resp: "+response);
                }
            });
            $.ajax({
                url: "/embutidos",
                type: "GET",
                success: function(){
                    location.reload();
                }
            });
        });
    });*/
</script>